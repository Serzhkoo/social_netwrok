(this.webpackJsonpsocialnetwork=this.webpackJsonpsocialnetwork||[]).push([[0],{13:function(e,t,s){e.exports={dialogs:"Dialogs_dialogs__2HlaX",dialogItems:"Dialogs_dialogItems__2Nm5L",dialog:"Dialogs_dialog__SfNFC",active:"Dialogs_active__3zl5o",messages:"Dialogs_messages__3utum",message:"Dialogs_message__2BubX"}},23:function(e,t,s){e.exports={users:"Users_users__1bnnk",selectedPage:"Users_selectedPage__3U3lB",page:"Users_page__36ejG"}},29:function(e,t,s){e.exports={contentBackground:"ProfileInfo_contentBackground__3NTUq",descriptionblock:"ProfileInfo_descriptionblock__1iDgo"}},30:function(e,t,s){e.exports={postsBlock:"MyPosts_postsBlock__kSILv",posts:"MyPosts_posts__1mxel"}},31:function(e,t,s){e.exports={header:"Header_header__1P0GL",loginBlock:"Header_loginBlock__2TMhE"}},41:function(e,t,s){e.exports={item:"Post_item__1dLyP"}},47:function(e,t,s){},48:function(e,t,s){},6:function(e,t,s){e.exports={nav:"Navbar_nav__n2StH",item:"Navbar_item__1ZDjl",active:"Navbar_active__oF4pq"}},73:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),r=s(21),i=s.n(r),c=(s(47),s(48),s(5)),o=s(6),l=s.n(o),u=s(0);function j(){return Object(u.jsxs)("nav",{className:l.a.nav,children:[Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{to:"/profile",activeClassName:l.a.active,children:"Profile"})}),Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{to:"/dialogs",activeClassName:l.a.active,children:"Messages"})}),Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{to:"/users",activeClassName:l.a.active,children:"Users"})}),Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{to:"/news",activeClassName:l.a.active,children:"News"})}),Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{to:"/music",activeClassName:l.a.active,children:"Music"})}),Object(u.jsx)("div",{className:l.a.item,children:Object(u.jsx)(c.b,{to:"/settings",activeClassName:l.a.active,children:"Settings"})})]})}console.log(l.a);var d=s(4);function g(){return Object(u.jsx)("div",{children:"Music"})}function b(){return Object(u.jsx)("div",{children:"Settings"})}function p(){return Object(u.jsx)("div",{children:"News"})}var h=s(14),O=s(2),f={dialogsData:[{id:1,name:"Lewis",picture:"https://imgresizer.eurosport.com/unsafe/1200x0/filters:format(jpeg):focal(1390x798:1392x796)/origin-imgresizer.eurosport.com/2020/06/01/2826749-58300008-2560-1440.jpg"},{id:2,name:"Valtteri",picture:"https://sun9-21.userapi.com/Wj79trhX7JToTycCwPG_CYZSQd1JwAzrdl5G1Q/GIcWEc2zRNg.jpg"},{id:3,name:"Max",picture:"https://s-cdn.sportbox.ru/images/styles/upload/fp_fotos/a3/7f/6adfbd96bf588fe6288aca94715e78f65da1d4d07ec09338177982.jpg"},{id:4,name:"Sergio",picture:"https://www.mexicanist.com/_files/200005550-0f0b40f0b7/450/Sergio%20Perez.jpg"},{id:5,name:"Daniel",picture:"https://media-cdn.mclaren.com/media/images/articles/hero/DR_x_3_web.jpg"},{id:6,name:"Carlos",picture:"https://images2.gazzettaobjects.it/methode_image/2021/03/22/Motori/Foto_Motori_-_Trattate/e3fe2efa4317707d10bb7bfa84eb3c6d_1200x675.jpg?v=202103221647"}],messagesData:[{id:1,message:"Hi losers"},{id:2,message:"Your majesty"},{id:3,message:"Track limits?"},{id:4,message:"Stop!"},{id:5,message:"Hahahaha"},{id:6,message:"Ferrari"}],newMessageText:""},m=s(13),x=s.n(m);function v(e){var t="/dialogs/"+e.state.id;return Object(u.jsx)("div",{className:x.a.dialog,children:Object(u.jsxs)(c.b,{activeClassName:x.a.active,to:t,children:[Object(u.jsx)("img",{src:e.state.picture,alt:""}),e.state.name]})})}function P(e){return Object(u.jsx)("div",{className:x.a.message,children:e.message})}var w=s(11),_=Object(w.b)((function(e){return{dialogsPage:e.dialogsPage,isAuth:e.auth.isAuth}}),(function(e){return{sendMessage:function(){e({type:"ADD-MESSAGE"})},onNewMessageChange:function(t){e(function(e){return{type:"UPDATE-NEW-MESSAGE-TEXT",text:e}}(t))}}}))((function(e){return e.isAuth?Object(u.jsxs)("div",{className:x.a.dialogs,children:[Object(u.jsx)("div",{className:x.a.dialogItems,children:e.dialogsPage.dialogsData.map((function(e){return Object(u.jsx)(v,{state:e},e.id)}))}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{onChange:function(t){e.onNewMessageChange(t.currentTarget.value)},value:e.dialogsPage.newMessageText})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){e.sendMessage()},children:"Add message"})}),Object(u.jsx)("div",{className:x.a.messages,children:e.dialogsPage.messagesData.map((function(e){return Object(u.jsx)(P,{message:e.message},e.id)}))})]})]}):Object(u.jsx)(d.a,{to:"/login"})})),N=s(16),T=s(17),S=s(19),C=s(18),E=s(40),U=s.n(E).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"b38f8e9d-743e-47d0-a483-a9b36f192933"}}),A=function(e,t){return U.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},k=function(e){return U.post("follow/".concat(e)).then((function(e){return e.data}))},I=function(e){return U.delete("follow/".concat(e)).then((function(e){return e.data}))},y=function(){return U.get("auth/me").then((function(e){return e.data}))},D=function(e){return U.get("profile/".concat(e))},F={users:[],pageSize:20,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgressUsers:[]},L=function(e){return{type:"TOGGLE-IS-FETCHING",isFetching:e}},M=function(e,t){return{type:"TOGGLE-IS-FOLLOWING-IN-PROGRESS",isFollowingInProgress:e,userId:t}},G=s(23),R=s.n(G),z=s.p+"static/media/userPhoto.a6143582.png";function B(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),s=[],n=1;n<=t;n++)s.push(n);return Object(u.jsxs)("div",{className:R.a.users,children:[Object(u.jsx)("div",{children:s.map((function(t,s){return Object(u.jsx)("span",{onClick:function(){return e.onPageChanged(t)},className:e.currentPage===t?R.a.selectedPage:R.a.page,children:"".concat(t," ")},s)}))}),e.users.map((function(t){return Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:Object(u.jsx)(c.b,{to:"/profile/".concat(t.id),children:Object(u.jsx)("img",{src:t.photos.small?t.photos.small:z,alt:""})})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{disabled:e.followingInProgressUsers.some((function(e){return e===t.id})),onClick:function(){t.followed?e.unFollow(t.id):e.follow(t.id)},children:t.followed?"UnFollow":"Follow"})})]}),Object(u.jsxs)("span",{children:[Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:t.name}),Object(u.jsx)("div",{children:t.status})]}),Object(u.jsxs)("span",{children:[Object(u.jsx)("div",{children:"user.location.country"}),Object(u.jsx)("div",{children:"user.location.city"})]})]})]},t.id)}))]})}var W=s.p+"static/media/loadingAnimation.d6fb07a0.svg";function H(){return Object(u.jsx)("div",{children:Object(u.jsx)("img",{src:W,alt:""})})}var X=function(e){Object(S.a)(s,e);var t=Object(C.a)(s);function s(){var e;Object(N.a)(this,s);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(T.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(u.jsxs)(u.Fragment,{children:[this.props.isFetching?Object(u.jsx)(H,{}):null,Object(u.jsx)(B,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,users:this.props.users,unFollow:this.props.unFollow,follow:this.props.follow,followingInProgressUsers:this.props.followingInProgressUsers})]})}}]),s}(a.a.Component),J=Object(w.b)((function(e){return{users:e.usersPage.users,pageSize:e.usersPage.pageSize,totalUsersCount:e.usersPage.totalUsersCount,currentPage:e.usersPage.currentPage,isFetching:e.usersPage.isFetching,followingInProgressUsers:e.usersPage.followingInProgressUsers}}),{getUsers:function(e,t){return function(s){s({type:"SET-CURRENT-PAGE",pageNumber:e}),s(L(!0)),A(e,t).then((function(e){s(L(!1)),s({type:"SET-USERS",users:e.items}),s({type:"SET-TOTAL-USERS-COUNT",totalUsersCount:e.totalCount})}))}},follow:function(e){return function(t){t(M(!0,e)),k(e).then((function(s){s.resultCode||t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(M(!1,e))}))}},unFollow:function(e){return function(t){t(M(!0,e)),I(e).then((function(s){s.resultCode||t(function(e){return{type:"UN-FOLLOW",userId:e}}(e)),t(M(!1,e))}))}}})(X),q=s(29),Y=s.n(q);function Q(e){return e.profile?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("img",{className:Y.a.contentBackground,src:"https://img.wallpapersafari.com/desktop/1920/1080/28/6/MxqLb9.jpg",alt:""})}),Object(u.jsxs)("div",{className:Y.a.descriptionblock,children:[Object(u.jsx)("img",{src:e.profile.photos.large,alt:""}),"ava + ",e.profile.userId]})]}):Object(u.jsx)(H,{})}var Z={postsData:[{id:1,message:"Hi, how are you",likeCount:10},{id:2,message:"It's my first post",likeCount:15},{id:3,message:"Oops",likeCount:30},{id:4,message:"Blablabla",likeCount:1}],newPostText:"",profile:{userId:0,lookingForAJob:!1,lookingForAJobDescription:"",fullName:"",contacts:{github:"",vk:"",facebook:"",instagram:"",twitter:"",website:"",youtube:"",mainLink:""},photos:{small:"",large:""}}},K=s(30),V=s.n(K),$=s(41),ee=s.n($);function te(e){return Object(u.jsxs)("div",{className:ee.a.item,children:[Object(u.jsx)("img",{src:"https://twt-thumbs.washtimes.com/media/image/2015/10/20/Rowan_Atkinson_c0-269-1200-968_s885x516.jpg?73654bfb353205d8a409d0b97a2183fbcb215332",alt:""}),Object(u.jsx)("span",{children:e.message}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:"like "}),e.likeCount]})]})}var se=Object(w.b)((function(e){return{profilePage:e.profilePage}}),(function(e){return{addPost:function(){e({type:"ADD-POST"})},onNewPostChange:function(t){e({type:"UPDATE-NEW-POST-TEXT",newText:t})}}}))((function(e){var t=e.profilePage.postsData.map((function(e){return Object(u.jsx)(te,{message:e.message,likeCount:e.likeCount},e.id)}));return Object(u.jsxs)("div",{className:V.a.postsBlock,children:[Object(u.jsx)("h3",{children:"My posts"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("textarea",{onChange:function(t){e.onNewPostChange(t.currentTarget.value)},value:e.profilePage.newPostText})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){e.addPost()},children:"Add post"})})]}),Object(u.jsx)("div",{className:V.a.posts,children:t})]})}));function ne(e){return Object(u.jsxs)("div",{children:[Object(u.jsx)(Q,{profile:e.profile}),Object(u.jsx)(se,{})]})}var ae=function(e){Object(S.a)(s,e);var t=Object(C.a)(s);function s(){return Object(N.a)(this,s),t.apply(this,arguments)}return Object(T.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e="17254"),this.props.getUserProfile(e)}},{key:"render",value:function(){return this.props.isAuth?Object(u.jsx)("div",{children:Object(u.jsx)(ne,{profile:this.props.profile})}):Object(u.jsx)(d.a,{to:"/login"})}}]),s}(a.a.Component),re=Object(d.f)(ae),ie=Object(w.b)((function(e){return{profile:e.profilePage.profile,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(t){D(e).then((function(e){t({type:"SET-USER-PROFILE",profile:e.data})}))}}})(re),ce=s(31),oe=s.n(ce);function le(e){return Object(u.jsxs)("header",{className:oe.a.header,children:[Object(u.jsx)("img",{src:"http://pngimg.com/uploads/eagle/eagle_PNG1229.png",alt:""}),Object(u.jsx)("div",{className:oe.a.loginBlock,children:Object(u.jsx)(c.b,{to:"/login",children:e.isAuth?e.login:"Login"})})]})}var ue={isAuth:!1,data:{id:null,email:null,login:null}},je=function(e){Object(S.a)(s,e);var t=Object(C.a)(s);function s(){return Object(N.a)(this,s),t.apply(this,arguments)}return Object(T.a)(s,[{key:"componentDidMount",value:function(){this.props.getAuth()}},{key:"render",value:function(){return Object(u.jsx)(le,{isAuth:this.props.isAuth,login:this.props.login})}}]),s}(a.a.Component),de=Object(w.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.data.login}}),{getAuth:function(){return function(e){y().then((function(t){t.resultCode||e(function(e){return{type:"SET-AUTH-USER-DATA",data:e}}(t.data))}))}}})(je),ge=function(){return Object(u.jsx)("div",{children:"LOGIN"})};var be=function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsx)(de,{}),Object(u.jsx)(j,{}),Object(u.jsxs)("div",{className:"App-content",children:[Object(u.jsx)(d.b,{path:"/dialogs",render:function(){return Object(u.jsx)(_,{})}}),Object(u.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(u.jsx)(ie,{})}}),Object(u.jsx)(d.b,{path:"/users",render:function(){return Object(u.jsx)(J,{})}}),Object(u.jsx)(d.b,{path:"/news",render:function(){return Object(u.jsx)(p,{})}}),Object(u.jsx)(d.b,{path:"/music",render:function(){return Object(u.jsx)(g,{})}}),Object(u.jsx)(d.b,{path:"/settings",render:function(){return Object(u.jsx)(b,{})}}),Object(u.jsx)(d.b,{path:"/login",render:function(){return Object(u.jsx)(ge,{})}})]})]})},pe=s(24),he=s(42),Oe=Object(pe.b)({profilePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var s={id:5,message:e.newPostText,likeCount:0};return Object(O.a)(Object(O.a)({},e),{},{postsData:[].concat(Object(h.a)(e.postsData),[s]),newPostText:""});case"UPDATE-NEW-POST-TEXT":return Object(O.a)(Object(O.a)({},e),{},{newPostText:t.newText});case"SET-USER-PROFILE":return Object(O.a)(Object(O.a)({},e),{},{profile:t.profile});default:return e}},dialogsPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":var s={id:7,message:e.newMessageText};return Object(O.a)(Object(O.a)({},e),{},{messagesData:[].concat(Object(h.a)(e.messagesData),[s]),newMessageText:""});case"UPDATE-NEW-MESSAGE-TEXT":return Object(O.a)(Object(O.a)({},e),{},{newMessageText:t.text});default:return e}},usersPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(O.a)(Object(O.a)({},e),{},{followed:!0}):e}))});case"UN-FOLLOW":return Object(O.a)(Object(O.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(O.a)(Object(O.a)({},e),{},{followed:!1}):e}))});case"SET-USERS":return Object(O.a)(Object(O.a)({},e),{},{users:Object(h.a)(t.users)});case"SET-CURRENT-PAGE":return Object(O.a)(Object(O.a)({},e),{},{currentPage:t.pageNumber});case"SET-TOTAL-USERS-COUNT":return Object(O.a)(Object(O.a)({},e),{},{totalUsersCount:t.totalUsersCount});case"TOGGLE-IS-FETCHING":return Object(O.a)(Object(O.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE-IS-FOLLOWING-IN-PROGRESS":return Object(O.a)(Object(O.a)({},e),{},{followingInProgressUsers:t.isFollowingInProgress?[].concat(Object(h.a)(e.followingInProgressUsers),[t.userId]):e.followingInProgressUsers.filter((function(e){return e!==t.userId}))});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET-AUTH-USER-DATA":return Object(O.a)(Object(O.a)({},e),{},{data:Object(O.a)({},t.data),isAuth:!0});default:return e}}}),fe=Object(pe.c)(Oe,Object(pe.a)(he.a));window.store=fe,i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(c.a,{children:Object(u.jsx)(w.a,{store:fe,children:Object(u.jsx)(be,{})})})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.9e2c7e67.chunk.js.map